# Deployment Guide for Strapi Server

## Deploying to Render

This guide will help you deploy your Strapi application to Render.

### Prerequisites

1. A Render account (free tier available)
2. Your code pushed to a Git repository (GitHub, GitLab, etc.)

### Step 1: Connect to Render

1. Go to [render.com](https://render.com) and sign up/login
2. Click "New +" and select "Blueprint"
3. Connect your Git repository
4. Select the repository containing this Strapi application

### Step 2: Configure the Blueprint

The `render.yaml` file is already configured for deployment. It will:

- Create a PostgreSQL database
- Deploy the Strapi application
- Set up all necessary environment variables

### Step 3: Set Environment Variables

After the initial deployment, you'll need to configure these environment variables in your Render dashboard:

#### Required Environment Variables:

1. **Cloudinary Configuration** (for file uploads):
   - `CLOUDINARY_NAME`: Your Cloudinary cloud name
   - `CLOUDINARY_KEY`: Your Cloudinary API key
   - `CLOUDINARY_SECRET`: Your Cloudinary API secret

2. **Stripe Configuration**:
   - `STRIPE_SECRET_KEY`: Your Stripe secret key

#### Auto-generated Variables:
The following variables are automatically generated by Render:
- `APP_KEYS`
- `API_TOKEN_SALT`
- `ADMIN_JWT_SECRET`
- `JWT_SECRET`

### Step 4: Access Your Application

Once deployed, you can access:
- **Admin Panel**: `https://your-app-name.onrender.com/admin`
- **API**: `https://your-app-name.onrender.com/api`

### Step 5: Initial Setup

1. Visit your admin panel URL
2. Create your first admin user
3. Configure your content types and permissions

### Important Notes

- The free tier of Render will spin down after 15 minutes of inactivity
- Your first request after inactivity may take 30-60 seconds to respond
- Consider upgrading to a paid plan for production use

### Troubleshooting

If you encounter issues:

1. Check the build logs in your Render dashboard
2. Ensure all environment variables are set correctly
3. Verify your database connection is working
4. Check that your content types are properly configured

### Local Development

For local development, you can use SQLite by setting:
```
DATABASE_CLIENT=sqlite
```

This will use the local `.tmp/data.db` file for development. 